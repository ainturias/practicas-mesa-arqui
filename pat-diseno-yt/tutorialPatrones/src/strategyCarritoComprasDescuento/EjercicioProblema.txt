ğŸ›’ Problema: Carrito de Compras con Descuentos
Tienes una tienda online con un carrito de compras. El carrito tiene productos y un precio total.
Dependiendo de la temporada o promociÃ³n activa, el descuento se calcula de forma diferente:

    Tipo de descuento          CÃ³mo funciona
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Sin descuento              Retorna 0 (no hay descuento)
    Porcentaje                 Descuenta un % del total (ej: 15% de $200 = $30 de descuento)
    Monto fijo                 Descuenta una cantidad fija (ej: siempre $50 de descuento)

Sin el patrÃ³n Strategy, meterÃ­as todo en un montÃ³n de if-else dentro del carrito:

    si (tipo == "sinDescuento") {
        descuento = 0;
    } else si (tipo == "porcentaje") {
        descuento = total * 0.15;
    } else si (tipo == "fijo") {
        descuento = 50;
    }

Y si maÃ±ana te piden otro tipo de descuento (2x1, descuento por cliente VIP, etc.),
tienes que ir a modificar esa misma clase. ğŸ˜¬

-----------------------------------------------------------------------------------------------------------

ğŸ’¡ SoluciÃ³n con Strategy
Siguiendo la estructura de refactoring.guru:

1. Interfaz Strategy â†’ DescuentoStrategy
   - MÃ©todo: double calcularDescuento(double totalCompra)
   - NOTA: ahora el mÃ©todo RETORNA un double, no es void. Esto es nuevo respecto al ejemplo anterior.

2. Estrategias Concretas (cada una implementa la interfaz):
   - SinDescuento         â†’ siempre retorna 0
   - DescuentoPorcentaje  â†’ recibe un porcentaje en su CONSTRUCTOR (ej: 0.15 para 15%),
                             y retorna totalCompra * porcentaje
   - DescuentoFijo        â†’ recibe un monto fijo en su CONSTRUCTOR (ej: 50),
                             y retorna ese monto

   LO NUEVO: las estrategias concretas tienen ATRIBUTOS PROPIOS (el porcentaje o el monto fijo).
   Esto es normal y vÃ¡lido â€” cada estrategia puede guardar la configuraciÃ³n que necesite.

3. Contexto â†’ CarritoCompras
   - Tiene un atributo double total (el precio total del carrito)
   - Tiene la referencia a DescuentoStrategy
   - Tiene un mÃ©todo agregarProducto(String nombre, double precio) que suma al total
   - Tiene un mÃ©todo calcularTotal() que:
       1. Llama a la estrategia para obtener el descuento
       2. Resta el descuento del total
       3. Imprime el total original, el descuento, y el total final

4. Cliente â†’ TestCarrito (tu main)
   - Crea un carrito
   - Agrega productos
   - Calcula el total SIN descuento
   - Cambia la estrategia a PORCENTAJE del 20%
   - Calcula de nuevo
   - Cambia a DESCUENTO FIJO de $50
   - Calcula de nuevo

-----------------------------------------------------------------------------------------------------------

ğŸ“ Archivos a crear en este paquete (strategyCarritoComprasDescuento):

    Archivo                        Rol                 Â¿QuÃ© tiene de nuevo?
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    DescuentoStrategy.java         Interfaz            MÃ©todo que RETORNA double
    SinDescuento.java              Concreta            La mÃ¡s simple
    DescuentoPorcentaje.java       Concreta            Tiene un ATRIBUTO PROPIO (porcentaje)
    DescuentoFijo.java             Concreta            Tiene un ATRIBUTO PROPIO (montoFijo)
    CarritoCompras.java            Contexto            Tiene ESTADO PROPIO (total) ademÃ¡s de la estrategia
    TestCarrito.java               Cliente             Demuestra el cambio de estrategia

-----------------------------------------------------------------------------------------------------------

ğŸ”‘ Lo que vas a aprender de nuevo con este ejercicio:

1. Las estrategias pueden tener ATRIBUTOS PROPIOS
   â†’ DescuentoPorcentaje guarda su porcentaje, DescuentoFijo guarda su monto.

2. El mÃ©todo de la interfaz puede RETORNAR valores, no solo imprimir.
   â†’ Esto es mÃ¡s realista.

3. El Contexto puede tener ESTADO PROPIO (los productos y el total) ademÃ¡s de la referencia
   a la estrategia.
   â†’ La estrategia COMPLEMENTA al contexto, no lo reemplaza.
